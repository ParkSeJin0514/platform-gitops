# ============================================================================
# platform-gitops/platform/karpenter-config/values.yaml
# ============================================================================

# 클러스터 정보
clusterName: "petclinic-kr-eks"

# EC2NodeClass 설정
ec2NodeClass:
  # Karpenter Node가 사용할 IAM Role
  roleName: "petclinic-kr-karpenter-node"
  
  # AMI Family
  amiFamily: "AL2023"
  
  # EBS 볼륨 설정 (단순 구조)
  ebs:
    volumeSize: 50Gi
    volumeType: gp3
    iops: 3000
    throughput: 125
    encrypted: true
    deleteOnTermination: true

# NodePool 설정
nodePool:
  general:
    limits:
      cpu: 100
      memory: 200Gi
    
    disruption:
      consolidationPolicy: WhenEmptyOrUnderutilized
      consolidateAfter: 1m
      budgets:
        - nodes: "20%"
